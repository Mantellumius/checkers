<div id="board" class="flex flex-col w-fit h-fit border-4 border-gray-800">
    {% for row in board.cells %}
    <div class="flex">
        {% set outer_loop_index = loop.index %}
        {% for cell in row %}
        <div class="{% if (loop.index + outer_loop_index) % 2 == 0 %}bg-[#f0d9b5]{% else %}bg-[#b58863]{% endif %} w-16 h-16
        flex items-center justify-center text-green-500">
            {% match cell %}
            {% when crate::Cell::Checker with (crate::Checker::Black) %}
            <button hx-get="/games/{{id}}/moves?x={{loop.index0}}&y={{outer_loop_index - 1}}" hx-trigger="click"
                hx-target="#board" class="grid place-items-center w-full h-full">
                <div class="bg-[#1f1a17] rounded-full w-2/3 h-2/3 border-[#1f1a17]">
                </div>
            </button>
            {% when crate::Cell::Checker with (crate::Checker::White) %}
            <button hx-get="/games/{{id}}/moves?x={{loop.index0}}&y={{outer_loop_index - 1}}" hx-trigger="click"
                hx-target="#board" class="grid place-items-center w-full h-full">
                <div class="bg-[#edecec] rounded-full w-2/3 h-2/3 border-2 border-[#1f1a17]">
                </div>
            </button>
            {% when crate::Cell::Checker with (crate::Checker::BlackQueen) %}
            <span>
                Black Queen
            </span>
            {% when crate::Cell::Checker with (crate::Checker::WhiteQueen) %}
            <span>
                White Queen
            </span>
            {% when crate::Cell::Move %}
            <button class="grid place-items-center w-full h-full group hover:bg-[#77834c]">
                <div class="w-1/3 h-1/3 rounded-full bg-[#77834c] group-hover:bg-transparent">
                </div>
            </button>
            {% when crate::Cell::Empty %}
            {% endmatch %}
        </div>
        {% endfor%}
    </div>
    {% endfor%}
</div>